<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rendezvous - Enhanced Portfolio</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    /* Import Google Font */
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');

    /* --- CSS Variables --- */
    :root {
      --primary: #ffc857; /* Vibrant yellow */
      --primary-light: #ffd479;
      --dark: #0f0f0f; /* Very dark background */
      --card-bg: #181820; /* Slightly lighter card background */
      --card-bg-hover: #1f1f29; /* Subtle hover for cards */
      --hover: #2c2c3b; /* General hover background */
      --text: #eee; /* Light text */
      --text-muted: #aaa; /* Muted text */
      --border-color: rgba(255, 255, 255, 0.1); /* Subtle border */
      --focus-ring: 0 0 0 3px rgba(255, 200, 87, 0.5); /* Focus outline */
      --shadow-sm: 0 4px 10px rgba(0, 0, 0, 0.2);
      --shadow-md: 0 8px 20px rgba(0, 0, 0, 0.3);
      --shadow-lg: 0 15px 35px rgba(0, 0, 0, 0.4);
    }

    /* --- Base & Reset --- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth; /* Enable smooth scrolling */
      font-size: 16px; /* Base font size */
    }

    body {
      font-family: 'Poppins', sans-serif;
      background-color: var(--dark);
      color: var(--text);
      min-height: 100vh;
      overflow-x: hidden; /* Prevent horizontal scroll */
      line-height: 1.7;
      -webkit-font-smoothing: antialiased; /* Improve font rendering */
      -moz-osx-font-smoothing: grayscale;
    }

    /* --- Accessibility: Focus Styles --- */
    a:focus-visible,
    button:focus-visible,
    input:focus-visible,
    textarea:focus-visible {
      outline: none;
      box-shadow: var(--focus-ring);
      border-radius: 4px;
    }
    /* Custom focus for specific elements */
    .social-icons a:focus-visible,
    .bottom-icons a:focus-visible,
    .footer-social a:focus-visible,
    .profile img:focus-visible {
       box-shadow: none;
       outline: 2px solid var(--primary);
       outline-offset: 3px; /* Increased offset */
       border-radius: 50%; /* Match shape */
    }
     .desktop-nav a:focus-visible,
     .dropdown-trigger:focus-visible,
     .desktop-dropdown-content a:focus-visible,
     .mobile-nav a:focus-visible,
     .dropdown-btn:focus-visible,
     .footer-links a:focus-visible {
        box-shadow: none;
        background-color: var(--hover);
        color: var(--text);
        outline: 1px dashed var(--primary); /* Dashed outline for nav items */
        outline-offset: -1px;
     }
     .toggle-btn:focus-visible,
     .sidebar-close:focus-visible {
         background-color: rgba(255, 255, 255, 0.1);
         color: var(--primary);
         box-shadow: var(--focus-ring);
     }
     .btn:focus-visible, .submit-btn:focus-visible {
         box-shadow: var(--focus-ring), 0 5px 15px rgba(255, 200, 87, 0.2); /* Combine focus and subtle glow */
     }
     /* Focus for logo text */
     .logo-container:focus-visible h2 {
         text-shadow: 0 0 8px rgba(255, 200, 87, 0.6); /* Add glow on focus */
     }
     .logo-container:focus-visible {
         outline: none; /* Remove default outline on container */
         box-shadow: none;
     }


    /* --- Utility Classes --- */
    .container {
        max-width: 1200px;
        margin-left: auto;
        margin-right: auto;
        padding-left: 20px;
        padding-right: 20px;
    }

    /* --- Header --- */
    .desktop-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: var(--card-bg);
      padding: 0 25px;
      box-shadow: var(--shadow-sm);
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 70px;
      z-index: 1000;
      transition: height 0.3s ease, background-color 0.3s ease;
    }

    .desktop-header.scrolled {
      height: 60px;
      background-color: rgba(24, 24, 32, 0.9); /* Slightly more transparent */
      backdrop-filter: blur(8px); /* Increased blur */
      box-shadow: var(--shadow-md);
    }

    .logo-container {
      display: flex;
      align-items: center;
      gap: 15px;
      text-decoration: none; /* Remove underline from link */
    }

    .logo-container img {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      transition: transform 0.3s ease, border-color 0.3s ease; /* Separate transitions */
      object-fit: cover;
      border: 2px solid transparent; /* Add border for hover effect */
    }
     .logo-container:hover img { /* Apply hover effect to container */
         transform: scale(1.1) rotate(10deg); /* Add rotation */
         border-color: var(--primary);
     }

    /* Enhanced Logo Text Styling */
    .logo-container h2 {
      margin: 0;
      font-size: 1.3rem; /* Slightly larger */
      font-weight: 700;
      letter-spacing: 0.5px; /* Add subtle letter spacing */
      /* Apply gradient text */
      background: linear-gradient(45deg, var(--primary-light), var(--primary));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent; /* Make base color transparent */
      -webkit-text-fill-color: transparent; /* For Safari */
      /* Add subtle text shadow */
      text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.3);
      transition: text-shadow 0.3s ease, transform 0.3s ease; /* Add transform transition */
    }
     .logo-container:hover h2 { /* Apply hover effect to container */
         text-shadow: 0 0 8px rgba(255, 200, 87, 0.4); /* Add glow on hover */
         transform: scale(1.03); /* Slightly scale up text */
     }

    /* Desktop Navigation */
    .desktop-nav {
      display: flex;
      gap: 5px;
    }

    .desktop-nav a, .dropdown-trigger {
      color: var(--text-muted);
      text-decoration: none;
      padding: 8px 16px;
      border-radius: 4px;
      font-size: 0.9375rem; /* 15px */
      font-weight: 500; /* Slightly bolder */
      cursor: pointer;
      transition: background-color 0.2s ease, color 0.2s ease;
      position: relative;
      border: none;
      background: none;
      font-family: inherit;
      text-align: left;
    }

    .desktop-nav a:hover, .dropdown-trigger:hover {
      background-color: var(--hover);
      color: var(--text);
    }

    /* Active state indicator */
    .desktop-nav a[aria-current="page"]::after,
    .desktop-dropdown .dropdown-trigger.has-active-child::after {
      content: "";
      position: absolute;
      bottom: -2px; /* Position slightly below */
      left: 50%;
      transform: translateX(-50%);
      width: 25px;
      height: 3px;
      background-color: var(--primary);
      border-radius: 3px;
       /* Add animation */
      animation: underline-grow 0.3s ease forwards;
    }

    #webdesign-link[aria-current="page"]::after,
    #cyberprojects-link[aria-current="page"]::after {
    display: none;
}


    @keyframes underline-grow {
        from { width: 0; }
        to { width: 25px; }
    }

    /* Desktop Dropdown */
    .desktop-dropdown {
      position: relative;
      display: inline-block;
    }

    .dropdown-trigger {
      display: flex;
      align-items: center;
      gap: 5px;
    }
     /* Rotating chevron */
     .dropdown-trigger .chevron {
        display: inline-block;
        transition: transform 0.3s ease;
        font-size: 0.7em; /* Smaller chevron */
     }
     .desktop-dropdown.open > .dropdown-trigger .chevron {
        transform: rotate(180deg);
     }

    .desktop-dropdown-content {
      display: block; /* Use display block and control with opacity/transform */
      position: absolute;
      top: calc(100% + 8px); /* Increased space */
      left: 0;
      background-color: var(--card-bg);
      min-width: 190px; /* Slightly wider */
      box-shadow: var(--shadow-md);
      border-radius: 6px; /* Consistent radius */
      z-index: 1001;
      padding: 8px 0; /* Adjust padding */
      opacity: 0;
      transform: translateY(10px) scale(0.98); /* Add scale */
      transition: opacity 0.25s ease, transform 0.25s ease;
      pointer-events: none;
      transform-origin: top left; /* Animate from top */
    }

    .desktop-dropdown.open .desktop-dropdown-content {
      opacity: 1;
      transform: translateY(0) scale(1);
      pointer-events: auto;
    }

    .desktop-dropdown-content a {
      display: block;
      padding: 10px 20px; /* Increased padding */
      border-radius: 0;
      border-left: 3px solid transparent;
      color: var(--text-muted);
      text-decoration: none;
      font-size: 0.9375rem; /* 15px */
      transition: background-color 0.2s ease, color 0.2s ease, border-left-color 0.2s ease;
    }

    .desktop-dropdown-content a:hover {
      background-color: var(--hover);
      color: var(--text);
      border-left-color: var(--primary);
    }
     /* Active state for dropdown items */
     .desktop-dropdown-content a[aria-current="page"] {
         color: var(--primary); /* Highlight active item */
         font-weight: 600;
         border-left-color: var(--primary);
         background-color: rgba(255, 200, 87, 0.05); /* Subtle background */
     }

    /* Header Social Icons */
    .social-icons {
      display: flex;
      gap: 12px; /* Increased gap */
    }

    .social-icons a {
      color: var(--text-muted); /* Muted color */
      background-color: transparent; /* Transparent background */
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      text-decoration: none;
      transition: all 0.3s ease;
      border: 1px solid var(--border-color); /* Subtle border */
    }

    .social-icons a:hover {
      color: var(--primary);
      background-color: var(--hover);
      transform: translateY(-3px) scale(1.05); /* Add scale */
      border-color: var(--primary);
      box-shadow: 0 4px 8px rgba(255, 200, 87, 0.15); /* Subtle glow */
    }

    /* --- Mobile Sidebar --- */
    .sidebar {
      width: 280px;
      height: 100%;
      position: fixed;
      top: 0;
      left: 0; /* Start at left 0 */
      background-color: var(--card-bg);
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      box-shadow: var(--shadow-lg);
      transition: transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94); /* Smoother ease */
      transform: translateX(-100%); /* Start fully off-screen */
      z-index: 1100;
      overflow-y: auto;
      padding-bottom: 20px;
    }

    .sidebar.open {
      transform: translateX(0); /* Slide in */
    }

    .sidebar-close {
      position: absolute;
      top: 15px; /* Adjust position */
      right: 15px;
      background: none;
      border: none;
      color: var(--text-muted);
      font-size: 1.5rem; /* 24px */
      cursor: pointer;
      z-index: 10;
      padding: 8px; /* Larger click area */
      border-radius: 50%; /* Round button */
      transition: color 0.2s ease, transform 0.2s ease, background-color 0.2s ease;
    }
     .sidebar-close:hover {
         color: var(--primary);
         transform: rotate(90deg); /* Rotate on hover */
         background-color: var(--hover);
     }

    .profile {
      text-align: center;
      padding: 40px 20px 20px; /* More padding top */
      border-bottom: 1px solid var(--border-color); /* Separator */
    }

    .profile img {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      margin-bottom: 15px;
      border: 3px solid var(--primary-light); /* Use light primary */
      padding: 3px;
      transition: border-color 0.3s ease, transform 0.3s ease;
      object-fit: cover;
      box-shadow: var(--shadow-sm);
    }

    .profile img:hover {
      border-color: var(--primary);
      transform: scale(1.05);
    }

    .profile h2 {
      margin: 10px 0 5px;
      font-size: 1.25rem; /* 20px */
      font-weight: 700;
    }

    .profile p {
      margin: 0;
      font-style: italic;
      font-size: 0.875rem; /* 14px */
      color: var(--primary);
    }

    /* Mobile Navigation */
    .mobile-nav {
      display: flex;
      flex-direction: column;
      margin-top: 20px;
      flex-grow: 1; /* Allow nav to take available space */
    }

    .mobile-nav a, .dropdown-btn {
      display: flex;
      align-items: center;
      gap: 15px; /* Increased gap */
      color: var(--text-muted);
      text-decoration: none;
      padding: 15px 25px; /* Consistent padding */
      border: none;
      background: none;
      text-align: left;
      width: 100%;
      cursor: pointer;
      font-size: 1rem; /* 16px */
      font-weight: 500;
      transition: background-color 0.2s ease, color 0.2s ease, border-left-color 0.2s ease;
      border-left: 4px solid transparent; /* Thicker border */
    }
     .mobile-nav a i, .dropdown-btn i { /* Style icons */
         width: 20px;
         text-align: center;
         font-size: 1.1em;
         color: var(--primary-light);
         transition: color 0.2s ease;
     }

    .mobile-nav a:hover, .dropdown-btn:hover {
      background-color: var(--hover);
      color: var(--text);
    }
     .mobile-nav a:hover i, .dropdown-btn:hover i {
         color: var(--primary); /* Highlight icon on hover */
     }

    /* Active state for mobile nav */
    .mobile-nav a[aria-current="page"], .dropdown-btn.active {
      background-color: var(--hover);
      color: var(--text);
      border-left-color: var(--primary);
      font-weight: 600;
    }
     .mobile-nav a[aria-current="page"] i, .dropdown-btn.active i {
         color: var(--primary);
     }

    /* Mobile Dropdown */
    .dropdown-btn {
      position: relative;
    }

    .dropdown-btn .chevron { /* Use a span for chevron */
      margin-left: auto; /* Push chevron to the right */
      transition: transform 0.3s ease;
      font-size: 0.8em;
    }

    .dropdown-btn[aria-expanded="true"] .chevron {
      transform: rotate(180deg);
    }

    .dropdown-container {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.4s ease-out; /* Smoother ease */
      background-color: rgba(0, 0, 0, 0.15); /* Slightly darker background */
    }

    /* REMOVED the empty .dropdown-container.open rule */

    .dropdown-container a {
      padding: 12px 25px 12px 50px; /* Indent dropdown items */
      font-size: 0.9375rem; /* 15px */
      color: var(--text-muted);
      border-left: 4px solid transparent; /* Match parent style */
      transition: background-color 0.2s ease, color 0.2s ease, border-left-color 0.2s ease;
      font-weight: 400; /* Lighter weight for sub-items */
    }
     .dropdown-container a::before { /* Add subtle marker */
         content: "•";
         margin-right: 10px;
         color: var(--primary-light);
         opacity: 0.6;
     }

    .dropdown-container a:hover {
      color: var(--text);
      background-color: var(--hover);
    }
     .dropdown-container a:hover::before {
         opacity: 1;
         color: var(--primary);
     }

    /* Active state for mobile dropdown items */
    .dropdown-container a[aria-current="page"] {
      background-color: var(--hover);
      color: var(--text);
      font-weight: 600;
      border-left-color: var(--primary);
    }
     .dropdown-container a[aria-current="page"]::before {
         opacity: 1;
         color: var(--primary);
     }

    /* Sidebar Bottom Icons */
    .bottom-icons {
      display: flex;
      justify-content: center;
      gap: 15px;
      padding: 25px 15px 15px; /* Adjust padding */
      margin-top: 20px;
      border-top: 1px solid var(--border-color); /* Separator */
    }

    .bottom-icons a {
      color: var(--text-muted);
      background-color: transparent;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      text-decoration: none;
      transition: all 0.3s ease;
      border: 1px solid var(--border-color);
    }

    .bottom-icons a:hover {
      color: var(--primary);
      background-color: var(--hover);
      transform: translateY(-3px) scale(1.05);
      border-color: var(--primary);
      box-shadow: 0 4px 8px rgba(255, 200, 87, 0.15);
    }

    /* --- Main Content Area --- */
    .main {
      margin-top: 70px; /* Space for fixed header */
      padding-top: 40px; /* Add padding top */
      padding-bottom: 60px; /* Add padding bottom */
      transition: margin-left 0.3s ease; /* Keep for potential future use */
    }

    /* Hamburger Icon */
    .toggle-btn {
      display: none; /* Hidden by default */
      font-size: 1.5rem; /* 24px */
      background-color: transparent;
      color: var(--text);
      border: none;
      cursor: pointer;
      padding: 8px 10px; /* Adjust padding */
      border-radius: 4px;
      transition: background-color 0.2s ease, color 0.2s ease;
      margin-left: 10px; /* Space from social icons if they were visible */
    }

    .toggle-btn:hover {
      background-color: rgba(255,255,255,0.1);
      color: var(--primary);
    }

    /* --- Overlay for Mobile Sidebar --- */
    .overlay {
      display: block; /* Keep as block */
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.6); /* Slightly less dark */
      backdrop-filter: blur(5px);
      z-index: 1050;
      opacity: 0;
      transition: opacity 0.4s ease; /* Match sidebar transition */
      pointer-events: none; /* Ignore clicks when hidden */
      cursor: pointer;
    }

    .overlay.visible {
      opacity: 1;
      pointer-events: auto; /* Allow clicks when visible */
    }

    /* --- Section Styling --- */
    .section {
      display: none; /* Start hidden */
      margin-bottom: 80px;
      padding-top: 20px; /* Space below header/nav */
      /* Animation applied via JS */
    }

    .section.active {
      display: block;
      animation: fadeInSection 0.6s ease forwards; /* Subtle fade-in */
    }

    @keyframes fadeInSection {
       from { opacity: 0; transform: translateY(15px); }
       to { opacity: 1; transform: translateY(0); }
    }

    /* Section Headings */
    .section h1 {
      position: relative;
      display: inline-block;
      margin-bottom: 40px;
      padding-bottom: 15px; /* More space for underline */
      font-size: 2.5rem; /* 40px */
      font-weight: 700;
      color: var(--text);
    }

    .section h1::after {
      content: "";
      position: absolute;
      bottom: 0;
      left: 0;
      width: 70px; /* Fixed width underline */
      height: 5px; /* Thicker */
      background: linear-gradient(90deg, var(--primary), var(--primary-light)); /* Gradient underline */
      border-radius: 3px;
      /* Add animation */
      animation: slideInUnderline 0.8s ease forwards;
    }
     @keyframes slideInUnderline {
         from { width: 0; }
         to { width: 70px; }
     }

    /* --- Hero Section --- */
    #home { margin-bottom: 30px; } /* Reduce bottom margin for hero */

    .hero {
      display: flex;
      align-items: center;
      min-height: calc(90vh - 70px); /* Adjust based on header */
      padding: 20px 0; /* Vertical padding */
      gap: 50px; /* Increased gap */
    }

    .hero-content {
      flex: 1.2; /* Give slightly more space to text */
      animation: slideInLeft 0.8s ease forwards; /* Add animation */
    }
     @keyframes slideInLeft {
         from { opacity: 0; transform: translateX(-30px); }
         to { opacity: 1; transform: translateX(0); }
     }

    .hero-image {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      animation: fadeInScaleUp 0.8s ease 0.2s forwards; /* Delayed animation */
    }
     @keyframes fadeInScaleUp {
         from { opacity: 0; transform: scale(0.9); }
         to { opacity: 1; transform: scale(1); }
     }


    .hero-image img {
      width: 350px;
      height: 350px;
      object-fit: cover;
      border-radius: 50%;
      border: 6px solid var(--card-bg); /* Border matching card bg */
      box-shadow: 0 0 0 4px var(--primary-light), var(--shadow-lg); /* Double border effect + shadow */
      transition: all 0.4s ease;
    }

    .hero-image img:hover {
      transform: scale(1.03) rotate(-3deg); /* Add rotation */
      box-shadow: 0 0 0 6px var(--primary), var(--shadow-lg); /* Enhance border on hover */
    }

    .hero h1 {
      font-size: clamp(2.5rem, 6vw, 3.8rem); /* Responsive font size */
      margin-bottom: 20px;
      font-weight: 700;
      line-height: 1.2;
      color: var(--text);
    }

    .hero h1 span {
      color: var(--primary);
      display: inline-block; /* Allows transform */
      transition: transform 0.3s ease;
    }
     .hero h1:hover span {
         transform: scale(1.05) rotate(2deg);
     }

    .hero p {
      font-size: 1.1rem; /* 17.6px */
      margin-bottom: 35px;
      max-width: 600px;
      color: var(--text-muted);
    }

    .hero-btns {
      display: flex;
      flex-wrap: wrap; /* Allow buttons to wrap on small screens */
      gap: 15px;
      margin-top: 30px;
    }

    /* --- Buttons --- */
    .btn {
      display: inline-flex; /* Use flex for icon alignment */
      align-items: center;
      justify-content: center;
      gap: 8px; /* Space between text and icon */
      background-color: var(--primary);
      color: var(--dark); /* Dark text on primary button */
      padding: 12px 30px;
      border-radius: 30px;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
      border: 2px solid var(--primary);
      cursor: pointer;
      position: relative;
      overflow: hidden;
      z-index: 1; /* Ensure text is above pseudo-elements */
    }
     .btn::before { /* Background fill effect */
         content: '';
         position: absolute;
         top: 0;
         left: 0;
         width: 0;
         height: 100%;
         background-color: var(--dark);
         transition: width 0.3s ease;
         z-index: -1;
         border-radius: 30px;
     }

    .btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 18px rgba(255, 200, 87, 0.25); /* Enhanced shadow */
      color: var(--primary); /* Text color changes on hover */
    }
     .btn:hover::before {
         width: 100%;
     }

    .btn-outline {
      background-color: transparent;
      color: var(--primary);
      border-color: var(--primary);
    }
     .btn-outline::before {
         background-color: var(--primary);
     }

    .btn-outline:hover {
      color: var(--dark); /* Text color changes on hover */
      border-color: var(--primary); /* Keep border color */
      box-shadow: 0 8px 18px rgba(255, 200, 87, 0.2);
    }
     .btn-outline:hover::before {
         width: 100%;
     }

    /* --- About Section --- */
    .about-container {
      display: flex;
      gap: 50px;
      align-items: flex-start; /* Align items to top */
    }

    .about-image {
      flex: 1;
      position: relative; /* For potential pseudo-elements */
    }

    .about-image img {
      width: 100%;
      max-width: 450px;
      display: block;
      margin: 0 auto;
      border-radius: 10px;
      box-shadow: var(--shadow-md);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
     .about-image img:hover {
         transform: scale(1.03);
         box-shadow: var(--shadow-lg);
     }

    .about-content {
      flex: 1.5;
    }

    .about-content h3 { /* Add a sub-heading */
        font-size: 1.5rem; /* 24px */
        font-weight: 600;
        margin-bottom: 20px;
        color: var(--primary-light);
    }

    .about-content p {
      margin-bottom: 20px;
      font-size: 1rem; /* 16px */
      color: var(--text-muted);
    }
     .about-content p:last-child {
         margin-bottom: 0;
     }

    /* --- Hobbies Section --- */
     #hobbies > .container > p { /* Target the intro paragraph */
         margin-bottom: 30px;
         color: var(--text-muted);
         font-size: 1.1rem;
         max-width: 800px; /* Limit width */
     }
    .hobbies-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* Responsive grid */
      gap: 30px;
    }

    /* --- Cards (Hobbies, Projects, Services) --- */
    .hobby-card, .project-card, .service-card {
      background-color: var(--card-bg);
      border-radius: 10px;
      overflow: hidden;
      box-shadow: var(--shadow-sm);
      transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
      display: flex;
      flex-direction: column;
      border: 1px solid var(--border-color); /* Subtle border */
      /* Scroll animation base styles */
      opacity: 0;
      transform: translateY(20px);
    }
     .hobby-card.in-view, .project-card.in-view, .service-card.in-view {
        opacity: 1;
        transform: translateY(0);
        transition: opacity 0.6s ease, transform 0.6s ease;
     }
     /* Add staggered delay for cards */
     .hobby-card:nth-child(2).in-view, .project-card:nth-child(2).in-view, .service-card:nth-child(2).in-view { transition-delay: 0.1s; }
     .hobby-card:nth-child(3).in-view, .project-card:nth-child(3).in-view, .service-card:nth-child(3).in-view { transition-delay: 0.2s; }
     /* Add more if needed */


    .hobby-card:hover, .project-card:hover, .service-card:hover {
      transform: translateY(-8px) scale(1.02); /* Add scale on hover */
      box-shadow: var(--shadow-lg); /* Stronger shadow */
      background-color: var(--card-bg-hover); /* Subtle background change */
    }

    /* Card Image Styling */
    .hobby-img, .project-img {
      height: 200px; /* Consistent height */
      overflow: hidden;
      position: relative; /* For potential overlays */
    }

    .hobby-img img, .project-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      transition: transform 0.5s ease, filter 0.5s ease; /* Add filter transition */
    }

    .hobby-card:hover .hobby-img img,
    .project-card:hover .project-img img {
      transform: scale(1.1);
      filter: brightness(1.1); /* Slightly brighten image on hover */
    }

    /* Card Content Styling */
    .hobby-content, .project-content {
      padding: 25px;
      flex-grow: 1; /* Allow content to fill space */
      display: flex;
      flex-direction: column;
    }

    .hobby-content h3 {
      margin-bottom: 10px;
      font-size: 1.3rem;
      color: var(--primary);
      font-weight: 600;
    }

    .hobby-content p {
      color: var(--text-muted);
      font-size: 0.95rem;
      line-height: 1.6;
      flex-grow: 1; /* Push content down if needed */
    }

    /* --- Projects Section --- */
    #webdesign > .container > p, #pentesting > .container > p { /* Target intro paragraphs */
        margin-bottom: 30px;
        color: var(--text-muted);
        font-size: 1.1rem;
        max-width: 800px;
    }
    .projects-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 30px;
    }

    .project-content h3 {
      margin-bottom: 10px;
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--text); /* White heading */
    }

    .project-content p {
      color: var(--text-muted);
      margin-bottom: 20px; /* More space */
      flex-grow: 1;
      line-height: 1.6;
      font-size: 0.95rem;
    }

    .project-tags {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 20px;
    }

    .project-tag {
      background-color: rgba(255, 200, 87, 0.1);
      color: var(--primary);
      padding: 5px 12px;
      border-radius: 15px;
      font-size: 0.8rem;
      font-weight: 500;
      border: 1px solid rgba(255, 200, 87, 0.3); /* Subtle border */
    }

    .project-links {
      display: flex;
      gap: 20px;
      margin-top: auto; /* Push to bottom */
    }

    .project-links a {
      color: var(--text-muted);
      transition: color 0.3s ease;
      text-decoration: none;
      display: inline-flex;
      align-items: center;
      gap: 6px; /* Adjust gap */
      font-size: 0.9rem;
    }
     .project-links a i { /* Style icon */
         font-size: 1.1em;
     }

    .project-links a:hover {
      color: var(--primary);
    }

    /* --- Services Section --- */
     #service1 > .container > p, #service2 > .container > p { /* Target intro paragraphs */
         margin-bottom: 30px;
         color: var(--text-muted);
         font-size: 1.1rem;
         max-width: 800px;
     }
    .services-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
    }

    .service-card {
      padding: 40px 30px; /* Increased padding */
      text-align: center;
      border-top: 5px solid transparent; /* Prepare for border transition */
      transition: transform 0.3s ease, box-shadow 0.3s ease, border-top-color 0.3s ease, background-color 0.3s ease;
    }

    .service-card:hover {
      border-top-color: var(--primary);
    }

    .service-icon {
      font-size: 3.5rem; /* Larger icon */
      color: var(--primary);
      margin-bottom: 30px; /* More space */
      display: inline-block;
      transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Bouncy effect */
    }
     .service-card:hover .service-icon {
         transform: scale(1.15) rotate(-10deg); /* Add rotation */
     }

    .service-card h3 {
      margin-bottom: 15px;
      font-size: 1.4rem;
      font-weight: 600;
      color: var(--text);
    }

    .service-card p {
      color: var(--text-muted);
      margin-bottom: 25px;
      font-size: 0.95rem;
      line-height: 1.6;
      flex-grow: 1; /* Ensure consistent height */
    }

    .service-price {
      font-size: 1.6rem; /* Larger price */
      font-weight: 700;
      color: var(--primary);
      margin-bottom: 30px; /* More space */
    }
     /* Ensure button aligns with others */
     .service-card .btn {
         padding: 10px 25px;
         margin-top: auto; /* Push button to bottom */
     }

    /* --- Contact Section --- */
     #contact > .container > p { /* Target intro paragraph */
         margin-bottom: 40px;
         color: var(--text-muted);
         font-size: 1.1rem;
         max-width: 800px;
     }
    .contact-container {
      display: flex;
      flex-wrap: wrap; /* Allow wrapping */
      gap: 50px;
    }

    .contact-info {
      flex: 1;
      min-width: 280px; /* Ensure minimum width */
    }

    .contact-info > p { /* Target first paragraph */
      margin-bottom: 35px;
      color: var(--text-muted);
      line-height: 1.7;
    }

    .contact-item {
      display: flex;
      align-items: center;
      gap: 20px;
      margin-bottom: 30px;
      transition: transform 0.3s ease; /* Add hover effect to item */
    }
     .contact-item:hover {
         transform: translateX(5px);
     }

    .contact-icon {
      width: 55px; /* Slightly larger */
      height: 55px;
      flex-shrink: 0;
      background-color: rgba(255, 200, 87, 0.1);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--primary);
      font-size: 1.5rem; /* Larger icon */
      transition: background-color 0.3s ease, color 0.3s ease, transform 0.3s ease;
    }
     .contact-item:hover .contact-icon {
         background-color: var(--primary);
         color: var(--dark);
         transform: scale(1.1) rotate(10deg); /* Animate icon */
     }

    .contact-text h4 {
      font-size: 1.1rem;
      margin-bottom: 5px;
      font-weight: 600;
      color: var(--text);
    }

    .contact-text p {
      margin: 0;
      color: var(--text-muted);
      font-size: 0.95rem;
    }
     .contact-text a { /* Make email/phone clickable */
         color: var(--text-muted);
         text-decoration: none;
         transition: color 0.3s ease;
     }
     .contact-text a:hover {
         color: var(--primary);
         text-decoration: underline;
     }

    /* Contact Form */
    .contact-form {
      flex: 1.3; /* Slightly more space */
      min-width: 300px; /* Ensure minimum width */
      background-color: var(--card-bg);
      padding: 40px; /* Increased padding */
      border-radius: 10px;
      box-shadow: var(--shadow-md);
      border: 1px solid var(--border-color);
    }

    .input-group {
      margin-bottom: 25px;
      position: relative; /* For potential icon placement */
    }

    .input-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 500;
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    .input-group input,
    .input-group textarea {
      width: 100%;
      padding: 14px 18px; /* Adjust padding */
      background-color: rgba(255, 255, 255, 0.03); /* Darker input background */
      border: 1px solid var(--border-color);
      border-radius: 6px; /* Match other radii */
      color: var(--text);
      transition: border-color 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
      font-size: 1rem;
      line-height: 1.5;
      font-family: inherit; /* Ensure font consistency */
    }

    .input-group input:focus,
    .input-group textarea:focus {
      outline: none;
      border-color: var(--primary);
      background-color: rgba(255, 255, 255, 0.05);
      box-shadow: 0 0 10px rgba(255, 200, 87, 0.1); /* Subtle glow on focus */
    }
     .input-group input:hover,
     .input-group textarea:hover {
         border-color: rgba(255, 200, 87, 0.5);
     }

    .input-group textarea {
      min-height: 150px;
      resize: vertical;
    }

    .submit-btn {
      background-color: var(--primary);
      color: var(--dark);
      border: none;
      padding: 14px 35px; /* More padding */
      border-radius: 30px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: inline-flex; /* Match .btn */
      align-items: center;
      gap: 8px;
      border: 2px solid var(--primary);
      /* Use the same hover effect as .btn */
    }
     .submit-btn::before {
         content: '';
         position: absolute;
         top: 0;
         left: 0;
         width: 0;
         height: 100%;
         background-color: var(--dark);
         transition: width 0.3s ease;
         z-index: -1;
         border-radius: 30px;
     }
     .submit-btn:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 18px rgba(255, 200, 87, 0.25);
        color: var(--primary);
     }
     .submit-btn:hover::before {
         width: 100%;
     }

     /* Form Status Message */
     #form-status {
         margin-top: 20px;
         font-size: 0.9rem;
         min-height: 1.5em; /* Reserve space */
         transition: color 0.3s ease;
     }
     #form-status.success { color: #4ade80; } /* Green */
     #form-status.error { color: #f87171; } /* Red */
     #form-status.sending { color: var(--text-muted); }

    /* --- Footer --- */
    footer {
      background-color: var(--card-bg);
      padding: 50px 0; /* Increased padding */
      margin-top: 100px; /* More space above footer */
      text-align: center;
      border-top: 1px solid var(--border-color);
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    .footer-logo {
      margin-bottom: 30px;
    }

    .footer-logo img {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      opacity: 0.8;
      transition: opacity 0.3s ease, transform 0.3s ease;
    }
     .footer-logo img:hover {
         opacity: 1;
         transform: scale(1.1) rotate(10deg);
     }

    .footer-links {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 15px 30px; /* Row and column gap */
      margin: 35px 0; /* Increased margin */
    }

    .footer-links a {
      color: var(--text-muted);
      text-decoration: none;
      transition: color 0.3s ease, transform 0.3s ease;
      cursor: pointer;
      font-size: 0.95rem;
      position: relative;
      padding-bottom: 4px; /* Space for underline */
    }
     .footer-links a::after { /* Underline effect */
         content: '';
         position: absolute;
         bottom: 0;
         left: 0;
         width: 0;
         height: 2px;
         background-color: var(--primary);
         transition: width 0.3s ease;
     }

    .footer-links a:hover {
      color: var(--primary);
      transform: translateY(-2px);
    }
     .footer-links a:hover::after {
         width: 100%;
     }

    .footer-social {
      display: flex;
      justify-content: center;
      gap: 18px; /* Increased gap */
      margin-bottom: 35px; /* Increased margin */
    }

    .footer-social a {
      color: var(--text-muted);
      background-color: transparent;
      width: 42px; /* Slightly larger */
      height: 42px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      text-decoration: none;
      transition: all 0.3s ease;
      border: 1px solid var(--border-color);
      font-size: 1.1rem; /* Slightly larger icon */
    }

    .footer-social a:hover {
      color: var(--primary);
      background-color: var(--hover);
      transform: translateY(-4px) scale(1.08); /* Enhanced hover */
      border-color: var(--primary);
      box-shadow: 0 5px 10px rgba(255, 200, 87, 0.15);
    }

    .copyright {
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    /* --- Back to Top Button --- */
    #back-to-top {
        position: fixed;
        bottom: 25px;
        right: 25px;
        width: 45px;
        height: 45px;
        background-color: var(--primary);
        color: var(--dark);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        border: none;
        cursor: pointer;
        box-shadow: var(--shadow-md);
        opacity: 0;
        visibility: hidden;
        transform: translateY(20px);
        transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease, background-color 0.3s ease;
        z-index: 999;
    }
    #back-to-top.visible {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }
    #back-to-top:hover {
        background-color: var(--primary-light);
        transform: scale(1.1); /* Scale on hover */
    }


    /* --- Media Queries --- */
    @media screen and (max-width: 992px) {
      .container {
          padding-left: 15px;
          padding-right: 15px;
      }
      .hero {
        flex-direction: column-reverse;
        text-align: center;
        padding-top: 60px; /* More space */
        min-height: auto;
        gap: 40px;
      }

      .hero-content {
        padding-right: 0;
        animation: none; /* Disable animation on smaller screens if desired */
      }
      .hero-image {
          animation: none;
      }

      .hero-btns {
        justify-content: center;
      }

      .hero h1 {
         font-size: clamp(2.2rem, 5.5vw, 3rem); /* Adjust clamp */
      }

      .hero-image {
        margin-bottom: 40px;
      }

      .hero-image img {
        width: 280px;
        height: 280px;
      }

      .about-container {
        flex-direction: column;
        gap: 40px;
      }
       .about-image {
           max-width: 400px;
           margin-bottom: 0; /* Remove bottom margin */
       }
       .about-content h3 {
           margin-top: 20px; /* Add space above heading */
       }

      .contact-container {
          flex-direction: column;
          gap: 50px;
      }
      .contact-form {
          padding: 30px;
      }

      .projects-grid,
      .services-container,
      .hobbies-container {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 25px; /* Slightly reduce gap */
      }
    }

    @media screen and (max-width: 768px) {
      html { font-size: 15px; } /* Slightly smaller base font */

      .desktop-header {
        height: 60px;
        padding: 0 15px;
      }
      .desktop-header.scrolled { height: 55px; } /* Even smaller when scrolled */

      .desktop-nav, .social-icons {
        display: none; /* Hide desktop nav and icons */
      }

      .logo-container img {
        width: 35px;
        height: 35px;
      }

      .logo-container h2 {
        font-size: 1.2rem; /* Adjust size for mobile */
        letter-spacing: 0.3px; /* Adjust spacing */
      }

      .toggle-btn {
        display: block; /* Show hamburger */
      }

      .main {
        margin-top: 60px; /* Space below mobile header */
        padding: 30px 0; /* Remove horizontal padding, handled by container */
      }

      .section h1 {
        font-size: 2rem; /* Adjust heading size */
      }

      .hero {
          padding-top: 40px;
      }
      .hero h1 {
        font-size: clamp(2rem, 5vw, 2.5rem); /* Adjust clamp */
      }

      .hero p {
        font-size: 1rem;
      }
      .hero-image img {
         width: 220px;
         height: 220px;
         border-width: 4px; /* Reduce border */
         box-shadow: 0 0 0 3px var(--primary-light), var(--shadow-md); /* Adjust shadow */
      }

      .about-container, .contact-container {
           gap: 30px;
       }

      /* Stack cards on smaller screens */
      .projects-grid,
      .services-container,
      .hobbies-container {
          grid-template-columns: 1fr; /* Single column */
          max-width: 400px; /* Limit width */
          margin-left: auto;
          margin-right: auto;
          gap: 25px;
      }

      .contact-form {
            padding: 25px;
      }

      .footer-links {
            gap: 10px 20px; /* Adjust gap for wrapping */
            margin: 30px 0;
      }
      .footer-social {
          gap: 15px;
          margin-bottom: 30px;
      }
      #back-to-top {
          bottom: 20px;
          right: 20px;
          width: 40px;
          height: 40px;
          font-size: 1rem;
      }
    }

    /* Ensure sidebar and overlay are hidden on larger screens */
    @media screen and (min-width: 769px) {
      .sidebar {
        transform: translateX(-100%) !important; /* Ensure hidden */
        visibility: hidden; /* Hide for accessibility */
      }

      .overlay {
        opacity: 0 !important; /* Ensure hidden */
        visibility: hidden !important;
        pointer-events: none !important;
      }
    }

  </style>
</head>
<body>

<div id="overlay" class="overlay" onclick="closeSidebar()" title="Close menu" aria-hidden="true"></div>

<aside id="sidebar" class="sidebar" role="navigation" aria-label="Mobile Navigation" aria-hidden="true"> <button class="sidebar-close" onclick="closeSidebar()" aria-label="Close Menu" title="Close Menu">
    <i class="fa-solid fa-xmark"></i>
  </button>
  <div>
    <div class="profile">
      <img src="https://i.pinimg.com/736x/e3/52/c5/e352c5ff6c36b373c8a78a08e739b51d.jpg" alt="Rendezvous stylized R logo">
      <h2>Rendezvous</h2>
      <p>Creative Web & Security</p> </div>

    <nav class="mobile-nav">
      <a id="home-mobile" href="#home" onclick="showSection('home'); closeSidebar();"><i class="fa-solid fa-house-chimney"></i> Home</a>
      <a id="about-mobile" href="#about" onclick="showSection('about'); closeSidebar();"><i class="fa-solid fa-address-card"></i> About</a>
      <a id="hobbies-mobile" href="#hobbies" onclick="showSection('hobbies'); closeSidebar();"><i class="fa-solid fa-gamepad"></i> Hobbies</a>

      <button class="dropdown-btn" id="works-dropdown-mobile" aria-controls="works-container-mobile" aria-expanded="false">
        <i class="fa-solid fa-briefcase"></i> Works <span class="chevron" aria-hidden="true">▼</span> </button>
      <div class="dropdown-container" id="works-container-mobile" role="region" aria-labelledby="works-dropdown-mobile">
        <a id="webdesign-mobile" href="#webdesign" onclick="showSection('webdesign'); closeSidebar();">Web Design</a>
        <a id="pentesting-mobile" href="#pentesting" onclick="showSection('pentesting'); closeSidebar();">Cybersecurity</a>
      </div>

      <button class="dropdown-btn" id="services-dropdown-mobile" aria-controls="services-container-mobile" aria-expanded="false">
        <i class="fa-solid fa-screwdriver-wrench"></i> Services <span class="chevron" aria-hidden="true">▼</span> </button>
      <div class="dropdown-container" id="services-container-mobile" role="region" aria-labelledby="services-dropdown-mobile">
        <a id="service1-mobile" href="#service1" onclick="showSection('service1'); closeSidebar();">UI/UX Design</a>
        <a id="service2-mobile" href="#service2" onclick="showSection('service2'); closeSidebar();">Pentesting</a>
      </div>

      <a id="contact-mobile" href="#contact" onclick="showSection('contact'); closeSidebar();"><i class="fa-solid fa-envelope"></i> Contact</a>
    </nav>
  </div>

  <div class="bottom-icons">
     <a href="https://www.facebook.com/joeremychristie.ong" target="_blank" rel="noopener noreferrer" aria-label="Facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
    <a href="https://www.instagram.com/rrendzvou" target="_blank" rel="noopener noreferrer" aria-label="Instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
    <a href="https://x.com/ymereoj" target="_blank" rel="noopener noreferrer" aria-label="Twitter" title="Twitter"><i class="fab fa-twitter"></i></a>
    <a href="https://ph.linkedin.com/in/joeremyong2003" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
  </div>
</aside>

<header class="desktop-header" id="header" role="banner">
  <a href="#home" class="logo-container" onclick="showSection('home'); return false;" title="Go to Home" tabindex="0">
    <img src="https://i.pinimg.com/736x/e3/52/c5/e352c5ff6c36b373c8a78a08e739b51d.jpg" alt="Rendezvous stylized R logo">
    <h2>Rendezvous</h2>
  </a>

  <nav class="desktop-nav" role="navigation" aria-label="Main Navigation">
    <a id="home-link" href="#home" onclick="showSection('home'); return false;">Home</a>
    <a id="about-link" href="#about" onclick="showSection('about'); return false;">About</a>
    <a id="hobbies-link" href="#hobbies" onclick="showSection('hobbies'); return false;">Hobbies</a>
  
    <div class="desktop-dropdown" id="works-desktop-dropdown">
      <button class="dropdown-trigger" onclick="toggleDesktopDropdown('works-desktop-dropdown')" aria-controls="works-desktop-content" aria-expanded="false">
        Works <span class="chevron" aria-hidden="true">▼</span>
      </button>
      <div class="desktop-dropdown-content" id="works-desktop-content" role="region" aria-labelledby="works-desktop-dropdown">
        <a id="webdesign-link" href="#webdesign" onclick="showSection('webdesign'); return false;">Web Design</a>
        <a id="cyberprojects-link" href="#cyberprojects" onclick="showSection('cyberprojects'); return false;">Cybersecurity</a>
      </div>
    </div>
  
    <div class="desktop-dropdown" id="services-desktop-dropdown">
      <button class="dropdown-trigger" onclick="toggleDesktopDropdown('services-desktop-dropdown')" aria-controls="services-desktop-content" aria-expanded="false">
        Services <span class="chevron" aria-hidden="true">▼</span>
      </button>
      <div class="desktop-dropdown-content" id="services-desktop-content" role="region" aria-labelledby="services-desktop-dropdown">
        <a id="uiux-link" href="#service1" onclick="showSection('service1'); return false;">UI/UX Design</a>
        <a id="pentesting-link" href="#service2" onclick="showSection('service2'); return false;">Pentesting</a>
      </div>
    </div>
  
    <a id="contact-link" href="#contact" onclick="showSection('contact'); return false;">Contact</a>
  </nav>  

  <div class="social-icons">
    <a href="https://www.facebook.com/joeremychristie.ong" target="_blank" rel="noopener noreferrer" aria-label="Facebook" title="Facebook"><i class="fab fa-facebook-f"></i></a>
    <a href="https://www.instagram.com/rrendzvou" target="_blank" rel="noopener noreferrer" aria-label="Instagram" title="Instagram"><i class="fab fa-instagram"></i></a>
    <a href="https://x.com/ymereoj" target="_blank" rel="noopener noreferrer" aria-label="Twitter" title="Twitter"><i class="fab fa-twitter"></i></a>
    <a href="https://ph.linkedin.com/in/joeremyong2003" target="_blank" rel="noopener noreferrer" aria-label="LinkedIn" title="LinkedIn"><i class="fab fa-linkedin-in"></i></a>
  </div>

   <button class="toggle-btn" onclick="openSidebar()" aria-label="Open Menu" title="Open Menu" aria-controls="sidebar" aria-expanded="false">
       <i class="fa-solid fa-bars"></i> </button>
</header>

<main class="main" id="main-content" role="main">

  <section id="home" class="section active container" role="region" aria-labelledby="home-heading">
    <div class="hero">
      <div class="hero-content">
         <h1 id="home-heading">Hi, I'm <span>Rendezvous</span></h1>
        <p>A passionate web designer and cybersecurity enthusiast based in Cagayan de Oro, dedicated to creating secure, beautiful, and user-centric digital experiences.</p>
        <div class="hero-btns">
           <a href="#webdesign" onclick="showSection('webdesign'); return false;" class="btn"><i class="fa-solid fa-palette"></i> View Works</a>
          <a href="#contact" onclick="showSection('contact'); return false;" class="btn btn-outline"><i class="fa-solid fa-paper-plane"></i> Get In Touch</a>
        </div>
      </div>
      <div class="hero-image">
        <img src="https://i.pinimg.com/736x/e3/52/c5/e352c5ff6c36b373c8a78a08e739b51d.jpg" alt="Rendezvous stylized R logo">
      </div>
    </div>
  </section>

  <section id="about" class="section container" role="region" aria-labelledby="about-heading">
    <h1 id="about-heading">About Me</h1>
    <div class="about-container">
      <div class="about-image">
         <img src="https://placehold.co/600x450/181820/eee?text=About+Rendezvous&font=poppins" alt="Placeholder image representing Rendezvous working on a project" loading="lazy"> </div>
      <div class="about-content">
        <h3>Bridging Design & Security</h3>
        <p>Hello! I'm Rendezvous, a creative technologist from Cagayan de Oro, Philippines. My journey began with a fascination for how websites looked and worked, which quickly evolved into a deeper passion for both crafting elegant user interfaces (UI) and ensuring robust digital security.</p>
        <p>I thrive on transforming complex ideas into intuitive, engaging, and visually appealing web solutions. My background in cybersecurity allows me to build websites that are not only beautiful but also resilient against potential threats. I believe the best digital products seamlessly integrate aesthetics, functionality, and security.</p>
        <p>When I'm not immersed in code or design tools, you might find me strategizing in Valorant, exploring the latest tech trends, contributing to open-source security projects, or simply enjoying the vibrant culture of Northern Mindanao.</p>
        <p>Let's collaborate and build something amazing together!</p>
      </div>
    </div>
  </section>

  <section id="hobbies" class="section container" role="region" aria-labelledby="hobbies-heading">
    <h1 id="hobbies-heading">Beyond the Screen</h1>
    <p>Work-life balance is key! Here's a glimpse into what fuels my creativity and keeps me energized outside of projects.</p>

    <div class="hobbies-container">
      <div class="hobby-card">
        <div class="hobby-img">
           <img src="https://placehold.co/400x300/181820/ffc857?text=Valorant&font=poppins" alt="Placeholder image representing Valorant gameplay scene" loading="lazy"> </div>
        <div class="hobby-content">
          <h3><i class="fa-solid fa-headset"></i> Competitive Gaming</h3>
          <p>I'm an avid Valorant player (peak Ascendant!), enjoying the strategic depth and teamwork. It sharpens my problem-solving and communication skills. Maining Sentinel roles!</p>
        </div>
      </div>

      <div class="hobby-card">
        <div class="hobby-img">
           <img src="https://placehold.co/400x300/181820/eee?text=CTFs+%26+Research&font=poppins" alt="Placeholder image representing cybersecurity code or terminal" loading="lazy"> </div>
        <div class="hobby-content">
          <h3><i class="fa-solid fa-terminal"></i> Security Exploration</h3>
          <p>Constantly learning through Capture The Flag (CTF) competitions, bug bounty hunting (responsibly!), and researching emerging threats and defense techniques.</p>
        </div>
      </div>

      <div class="hobby-card">
        <div class="hobby-img">
           <img src="https://placehold.co/400x300/181820/aaa?text=Local+Exploration&font=poppins" alt="Placeholder image representing a scenic view of Northern Mindanao" loading="lazy"> </div>
        <div class="hobby-content">
          <h3><i class="fa-solid fa-mountain-sun"></i> Exploring Mindanao</h3>
          <p>Discovering the natural beauty and hidden gems of Northern Mindanao helps me recharge and find inspiration in the world around me.</p>
        </div>
      </div>
    </div>
  </section>

  <section id="webdesign" class="section container" role="region" aria-labelledby="webdesign-heading">
    <h1 id="webdesign-heading">Web Design Showcase</h1>
    <p>Crafting user-friendly and visually appealing digital experiences. Here are some examples:</p>

    <div class="projects-grid">
      <div class="project-card">
        <div class="project-img">
           <img src="https://placehold.co/400x300/181820/ffc857?text=Project+Alpha&font=poppins" alt="Screenshot of Project Alpha e-commerce platform" loading="lazy"> </div>
        <div class="project-content">
          <h3>Project Alpha (E-commerce)</h3>
          <p>A sleek, responsive e-commerce site focusing on intuitive navigation and a fast checkout process. Built with performance in mind.</p>
          <div class="project-tags">
            <span class="project-tag">React</span>
            <span class="project-tag">Node.js</span>
            <span class="project-tag">Stripe API</span>
            <span class="project-tag">UI/UX</span>
          </div>
          <div class="project-links">
            <a href="#" target="_blank" rel="noopener noreferrer"><i class="fas fa-external-link-alt"></i> Live Demo</a>
            <a href="#" target="_blank" rel="noopener noreferrer"><i class="fab fa-github"></i> GitHub</a>
          </div>
        </div>
      </div>

      <div class="project-card">
        <div class="project-img">
           <img src="https://placehold.co/400x300/181820/eee?text=Project+Beta&font=poppins" alt="Screenshot of Project Beta creative portfolio" loading="lazy"> </div>
        <div class="project-content">
          <h3>Project Beta (Portfolio)</h3>
          <p>A dynamic portfolio template for creatives featuring smooth animations (GSAP) and a content management system integration.</p>
          <div class="project-tags">
            <span class="project-tag">HTML5</span>
            <span class="project-tag">SCSS</span>
            <span class="project-tag">JavaScript</span>
            <span class="project-tag">GSAP</span>
            <span class="project-tag">CMS</span>
          </div>
          <div class="project-links">
            <a href="#" target="_blank" rel="noopener noreferrer"><i class="fas fa-external-link-alt"></i> Live Demo</a>
            <a href="#" target="_blank" rel="noopener noreferrer"><i class="fab fa-github"></i> GitHub</a>
          </div>
        </div>
      </div>

      <div class="project-card">
        <div class="project-img">
           <img src="https://placehold.co/400x300/181820/aaa?text=Project+Gamma&font=poppins" alt="Screenshot of Project Gamma dashboard UI" loading="lazy"> </div>
        <div class="project-content">
          <h3>Project Gamma (Dashboard UI)</h3>
          <p>Designed and developed a clean, data-driven dashboard interface for a SaaS application, prioritizing clarity and usability.</p>
          <div class="project-tags">
            <span class="project-tag">Vue.js</span>
            <span class="project-tag">Tailwind CSS</span>
            <span class="project-tag">Chart.js</span>
            <span class="project-tag">UI Design</span>
          </div>
          <div class="project-links">
            <a href="#" target="_blank" rel="noopener noreferrer"><i class="fas fa-external-link-alt"></i> Live Demo</a>
            <a href="#" target="_blank" rel="noopener noreferrer"><i class="fab fa-github"></i> GitHub</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="cyberprojects" class="section container" role="region" aria-labelledby="cyberprojects-heading">
    <h1 id="cyberprojects-heading">Cybersecurity Projects</h1>
    <p>Applying security principles through practical projects and research.</p>
  
    <div class="projects-grid">
      <div class="project-card">
        <div class="project-img">
          <img src="https://placehold.co/400x300/181820/ffc857?text=Vuln+Scanner&font=poppins" alt="Network vulnerability scanner concept" loading="lazy">
        </div>
        <div class="project-content">
          <h3>Custom Network Scanner</h3>
          <p>Developed a Python-based tool to automate discovery and basic vulnerability checks within local networks using Scapy and Nmap.</p>
          <div class="project-tags">
            <span class="project-tag">Python</span>
            <span class="project-tag">Networking</span>
            <span class="project-tag">Scapy</span>
            <span class="project-tag">Security Tools</span>
          </div>
          <div class="project-links">
            <a href="#" target="_blank" rel="noopener noreferrer"><i class="fab fa-github"></i> GitHub</a>
          </div>
        </div>
      </div>
  
      <div class="project-card">
        <div class="project-img">
          <img src="https://placehold.co/400x300/181820/eee?text=Secure+Auth+Module&font=poppins" alt="Secure authentication system concept" loading="lazy">
        </div>
        <div class="project-content">
          <h3>Secure Authentication Module</h3>
          <p>Implemented a robust authentication system for a web app using password hashing (Argon2), rate limiting, CSRF protection, and JWTs.</p>
          <div class="project-tags">
            <span class="project-tag">Node.js</span>
            <span class="project-tag">Express</span>
            <span class="project-tag">JWT</span>
            <span class="project-tag">Security Best Practices</span>
          </div>
          <div class="project-links">
            <a href="#" target="_blank" rel="noopener noreferrer"><i class="fab fa-github"></i> GitHub</a>
            <a href="#" target="_blank" rel="noopener noreferrer"><i class="fas fa-file-alt"></i> Research Paper</a>
          </div>
        </div>
      </div>
    </div>
  </section>  

  <section id="pentesting" class="section container" role="region" aria-labelledby="pentesting-heading">
    <h1 id="pentesting-heading">Cybersecurity Endeavors</h1>
    <p>Applying security principles through practical projects and research.</p>

    <div class="projects-grid">
      <div class="project-card">
        <div class="project-img">
           <img src="https://placehold.co/400x300/181820/ffc857?text=Vuln+Scanner&font=poppins" alt="Conceptual image of a network vulnerability scanner" loading="lazy"> </div>
        <div class="project-content">
          <h3>Custom Network Scanner</h3>
          <p>Developed a Python-based tool to automate discovery and basic vulnerability checks within local networks. Explores Scapy and Nmap integration.</p>
          <div class="project-tags">
            <span class="project-tag">Python</span>
            <span class="project-tag">Networking</span>
            <span class="project-tag">Scapy</span>
            <span class="project-tag">Security Tools</span>
          </div>
          <div class="project-links">
            <a href="#" target="_blank" rel="noopener noreferrer"><i class="fab fa-github"></i> GitHub</a>
          </div>
        </div>
      </div>

      <div class="project-card">
        <div class="project-img">
           <img src="https://placehold.co/400x300/181820/eee?text=Secure+Auth+Module&font=poppins" alt="Conceptual image of a secure authentication system flow" loading="lazy"> </div>
        <div class="project-content">
          <h3>Secure Authentication Module</h3>
          <p>Implemented a robust authentication system for a web app, incorporating best practices like password hashing (Argon2), rate limiting, and CSRF protection.</p>
          <div class="project-tags">
            <span class="project-tag">Node.js</span>
            <span class="project-tag">Express</span>
            <span class="project-tag">JWT</span>
            <span class="project-tag">Security Best Practices</span>
          </div>
          <div class="project-links">
            <a href="#" target="_blank" rel="noopener noreferrer"><i class="fab fa-github"></i> GitHub</a>
            <a href="#" target="_blank" rel="noopener noreferrer"><i class="fas fa-file-alt"></i> Research Paper</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="service1" class="section container" role="region" aria-labelledby="service1-heading">
    <h1 id="service1-heading">UI/UX Design Services</h1>
    <p>Transforming ideas into intuitive and engaging digital products.</p>

    <div class="services-container">
      <div class="service-card">
        <div class="service-icon">
          <i class="fas fa-palette"></i> </div>
        <h3>Interface Design (UI)</h3>
        <p>Creating visually stunning, brand-consistent interfaces that captivate users and are a joy to interact with.</p>
        <div class="service-price">Starts at $15/hr</div> <a href="#contact" onclick="showSection('contact'); return false;" class="btn"><i class="fa-solid fa-comments"></i> Discuss Project</a>
      </div>

      <div class="service-card">
        <div class="service-icon">
          <i class="fas fa-route"></i> </div>
        <h3>Experience Design (UX)</h3>
        <p>Designing seamless user journeys through research, wireframing, and prototyping to enhance usability and satisfaction.</p>
        <div class="service-price">Starts at $15/hr</div>
         <a href="#contact" onclick="showSection('contact'); return false;" class="btn"><i class="fa-solid fa-comments"></i> Discuss Project</a>
      </div>

      <div class="service-card">
        <div class="service-icon">
          <i class="fas fa-mobile-screen-button"></i> </div>
        <h3>Responsive & Accessible</h3>
        <p>Ensuring your product looks and works flawlessly on all devices and is accessible to users of all abilities (WCAG).</p>
        <div class="service-price">Starts at $15/hr</div>
         <a href="#contact" onclick="showSection('contact'); return false;" class="btn"><i class="fa-solid fa-comments"></i> Discuss Project</a>
      </div>
    </div>
  </section>

  <section id="service2" class="section container" role="region" aria-labelledby="service2-heading">
    <h1 id="service2-heading">Cybersecurity Services</h1>
    <p>Proactively identifying and mitigating risks to protect your digital assets.</p>

    <div class="services-container">
      <div class="service-card">
        <div class="service-icon">
          <i class="fas fa-laptop-code"></i> </div>
        <h3>Web App Pentesting</h3>
        <p>In-depth testing of your web applications (OWASP Top 10 & beyond) to uncover vulnerabilities before attackers do.</p>
        <div class="service-price">Starts at $20/hr</div> <a href="#contact" onclick="showSection('contact'); return false;" class="btn"><i class="fa-solid fa-shield-halved"></i> Secure Your App</a>
      </div>

      <div class="service-card">
        <div class="service-icon">
          <i class="fas fa-network-wired"></i>
        </div>
        <h3>Network Security Audit</h3>
        <p>Comprehensive assessment of your network infrastructure, identifying misconfigurations and weaknesses.</p>
        <div class="service-price">Starts at $20/hr</div>
         <a href="#contact" onclick="showSection('contact'); return false;" class="btn"><i class="fa-solid fa-shield-halved"></i> Secure Your Network</a>
      </div>

      <div class="service-card">
        <div class="service-icon">
          <i class="fas fa-user-shield"></i> </div>
        <h3>Security Consulting</h3>
        <p>Providing expert guidance on security best practices, vulnerability management, and building a strong security posture.</p>
        <div class="service-price">Starts at $18/hr</div>
         <a href="#contact" onclick="showSection('contact'); return false;" class="btn"><i class="fa-solid fa-shield-halved"></i> Get Expert Advice</a>
      </div>
    </div>
  </section>

  <section id="contact" class="section container" role="region" aria-labelledby="contact-heading">
    <h1 id="contact-heading">Let's Connect</h1>
    <p>Interested in collaborating, have a question, or just want to chat about tech? Reach out!</p>

    <div class="contact-container">
      <div class="contact-info">
        <p>I'm currently available for freelance projects and always open to discussing new ideas. Use the form or the details below.</p>

        <div class="contact-item">
          <div class="contact-icon">
            <i class="fas fa-envelope"></i>
          </div>
          <div class="contact-text">
            <h4>Email</h4>
            <p><a href="mailto:hello@rendezvous.dev" title="Send an email">hello@rendezvous.dev</a></p>
          </div>
        </div>

        <div class="contact-item">
          <div class="contact-icon">
            <i class="fas fa-phone-alt"></i>
          </div>
          <div class="contact-text">
            <h4>Phone</h4>
             <p><a href="tel:+639123456789" title="Call me">+63 912 345 6789</a></p>
          </div>
        </div>

        <div class="contact-item">
          <div class="contact-icon">
            <i class="fas fa-map-marker-alt"></i>
          </div>
          <div class="contact-text">
            <h4>Location</h4>
            <p>Cagayan de Oro, Philippines</p>
          </div>
        </div>
      </div>

      <div class="contact-form">
         <form action="#" method="POST" id="contactForm" novalidate>
          <div class="input-group">
             <label for="name">Name</label>
            <input type="text" id="name" name="name" placeholder="e.g., Juan Dela Cruz" required minlength="2">
          </div>

          <div class="input-group">
             <label for="email">Email</label>
            <input type="email" id="email" name="email" placeholder="e.g., juan.dela.cruz@email.com" required>
          </div>

          <div class="input-group">
             <label for="subject">Subject</label>
            <input type="text" id="subject" name="subject" placeholder="e.g., Project Inquiry">
          </div>

          <div class="input-group">
            <label for="message">Message</label>
            <textarea id="message" name="message" placeholder="Tell me about your project or question..." required minlength="10"></textarea>
          </div>

           <button type="submit" class="submit-btn">
               <i class="fa-solid fa-paper-plane"></i> Send Message
            </button>
          <p id="form-status" aria-live="polite"></p>
        </form>
      </div>
    </div>
  </section>
</main>

<footer role="contentinfo">
  <div class="footer-content">
    <div class="footer-logo">
       <img src="https://i.pinimg.com/736x/e3/52/c5/e352c5ff6c36b373c8a78a08e739b51d.jpg" alt="Rendezvous stylized R logo">
    </div>

    <nav class="mobile-nav">
        <a id="home-mobile" href="#home" onclick="showSection('home'); closeSidebar();"><i class="fa-solid fa-house-chimney"></i> Home</a>
        <a id="about-mobile" href="#about" onclick="showSection('about'); closeSidebar();"><i class="fa-solid fa-address-card"></i> About</a>
        <a id="hobbies-mobile" href="#hobbies" onclick="showSection('hobbies'); closeSidebar();"><i class="fa-solid fa-gamepad"></i> Hobbies</a>
      
        <button class="dropdown-btn" id="works-dropdown-mobile" aria-controls="works-container-mobile" aria-expanded="false">
          <i class="fa-solid fa-briefcase"></i> Works <span class="chevron" aria-hidden="true">▼</span>
        </button>
        <div class="dropdown-container" id="works-container-mobile" role="region" aria-labelledby="works-dropdown-mobile">
          <a id="webdesign-mobile" href="#webdesign" onclick="showSection('webdesign'); closeSidebar();">Web Design</a>
          <a id="cyberprojects-mobile" href="#cyberprojects" onclick="showSection('cyberprojects'); closeSidebar();">Cybersecurity Projects</a>
        </div>
      
        <button class="dropdown-btn" id="services-dropdown-mobile" aria-controls="services-container-mobile" aria-expanded="false">
          <i class="fa-solid fa-screwdriver-wrench"></i> Services <span class="chevron" aria-hidden="true">▼</span>
        </button>
        <div class="dropdown-container" id="services-container-mobile" role="region" aria-labelledby="services-dropdown-mobile">
          <a id="service1-mobile" href="#service1" onclick="showSection('service1'); closeSidebar();">UI/UX Design</a>
          <a id="service2-mobile" href="#service2" onclick="showSection('service2'); closeSidebar();">Pentesting</a>
        </div>
      
        <a id="contact-mobile" href="#contact" onclick="showSection('contact'); closeSidebar();"><i class="fa-solid fa-envelope"></i> Contact</a>
      </nav>      

    <div class="copyright">
      &copy; <span id="current-year"></span> Rendezvous. Crafted with <i class="fa-solid fa-heart" style="color: var(--primary);" aria-label="love"></i> in CDO. </div>
  </div>
</footer>

<button id="back-to-top" title="Back to Top" aria-label="Scroll back to top">
    <i class="fa-solid fa-arrow-up"></i>
</button>


<script>
  // --- Global Variables & State ---
  let currentSection = 'home';
  let activeMobileDropdown = null; // Track mobile dropdown state
  const header = document.getElementById('header');
  const sidebar = document.getElementById("sidebar");
  const overlay = document.getElementById("overlay");
  const mobileToggleButton = document.querySelector('.toggle-btn');
  const backToTopButton = document.getElementById('back-to-top');
  const mainContent = document.getElementById('main-content');

  // --- Helper Functions ---
  /**
   * Closes all open desktop dropdown menus.
   */
  function closeAllDesktopDropdowns() {
    document.querySelectorAll('.desktop-dropdown.open').forEach(dropdown => {
      dropdown.classList.remove('open');
      const trigger = dropdown.querySelector('.dropdown-trigger');
      if (trigger) {
        trigger.setAttribute('aria-expanded', 'false');
      }
    });
    window.removeEventListener('click', closeDropdownOnClickOutside); // Remove listener when closing
  }

  /**
   * Closes desktop dropdowns if a click occurs outside of them.
   * @param {Event} event - The click event.
   */
  function closeDropdownOnClickOutside(event) {
    // Close only if the click is outside ANY dropdown trigger or content area
    if (!event.target.closest('.desktop-dropdown')) {
        closeAllDesktopDropdowns();
    }
  }


  /**
   * Toggles a specific desktop dropdown menu.
   * @param {string} id - The ID of the desktop dropdown element.
   */
  function toggleDesktopDropdown(id) {
    const dropdown = document.getElementById(id);
    if (!dropdown) return;
    const trigger = dropdown.querySelector('.dropdown-trigger');
    const isOpen = dropdown.classList.contains('open');

    // Close others first only if opening a new one
    if (!isOpen) {
      closeAllDesktopDropdowns();
    }

    // Toggle current dropdown
    dropdown.classList.toggle('open');
    if (trigger) {
      trigger.setAttribute('aria-expanded', String(!isOpen));
    }

    // Add/remove listener to close when clicking outside
    if (!isOpen) {
      // Use setTimeout to prevent immediate closing due to event propagation
      setTimeout(() => {
        window.addEventListener('click', closeDropdownOnClickOutside);
      }, 0);
    } else {
      // If closing, remove immediately
      window.removeEventListener('click', closeDropdownOnClickOutside);
    }
  }

  /**
   * Opens the mobile sidebar navigation.
   */
  function openSidebar() {
    if (!sidebar || !overlay || !mobileToggleButton) return;
    document.body.style.overflow = 'hidden'; // Prevent background scroll
    overlay.classList.add('visible');
    overlay.setAttribute('aria-hidden', 'false');
    sidebar.classList.add("open");
    sidebar.setAttribute('aria-hidden', 'false'); // Explicitly set aria-hidden
    mobileToggleButton.setAttribute('aria-expanded', 'true');
    sidebar.querySelector('a, button')?.focus(); // Focus first focusable element in sidebar
  }

  /**
   * Closes the mobile sidebar navigation.
   */
  function closeSidebar() {
    if (!sidebar || !overlay || !mobileToggleButton) return;
    overlay.classList.remove('visible');
    overlay.setAttribute('aria-hidden', 'true');
    sidebar.classList.remove("open");
    sidebar.setAttribute('aria-hidden', 'true'); // Explicitly set aria-hidden
    mobileToggleButton.setAttribute('aria-expanded', 'false');
    document.body.style.overflow = ''; // Restore scroll
    mobileToggleButton.focus(); // Return focus to the toggle button
  }

  /**
   * Toggles a specific mobile dropdown menu within the sidebar.
   * @param {HTMLButtonElement} buttonElement - The button element that triggers the dropdown.
   */
  function toggleMobileDropdown(buttonElement) {
      const container = buttonElement.nextElementSibling;
      if (!container) return;
      const isOpening = !container.classList.contains('open');

      // Close other dropdowns if opening a new one
      if (isOpening && activeMobileDropdown && activeMobileDropdown !== container) {
          const otherBtn = activeMobileDropdown.previousElementSibling;
          if (otherBtn) { // Check if otherBtn exists
              // otherBtn.classList.remove('active'); // Active class handled by updateNavActiveState
              otherBtn.setAttribute('aria-expanded', 'false');
          }
          activeMobileDropdown.classList.remove('open');
          activeMobileDropdown.style.maxHeight = null;
      }

      // Toggle current dropdown
      // buttonElement.classList.toggle('active', isOpening); // Active class handled by updateNavActiveState
      buttonElement.setAttribute('aria-expanded', isOpening);
      container.classList.toggle('open', isOpening);

      // Set max-height for animation
      if (isOpening) {
          container.style.maxHeight = container.scrollHeight + "px";
          activeMobileDropdown = container; // Track the currently open dropdown
      } else {
          container.style.maxHeight = null;
          if (activeMobileDropdown === container) {
              activeMobileDropdown = null; // Clear tracking if closing
          }
      }
  }

  /**
   * Updates the active state indicators in both desktop and mobile navigation.
   * @param {string} activeId - The ID of the currently active section.
   */
  function updateNavActiveState(activeId) {
    const navLinks = document.querySelectorAll('.desktop-nav a, .desktop-dropdown-content a, .mobile-nav a, .dropdown-container a');
    const mobileDropdownBtns = document.querySelectorAll('.mobile-nav .dropdown-btn');
    const desktopDropdownTriggers = document.querySelectorAll('.desktop-dropdown .dropdown-trigger');

    // --- Reset all active states first ---
    navLinks.forEach(link => link.removeAttribute('aria-current'));
    mobileDropdownBtns.forEach(btn => btn.classList.remove('active'));
    desktopDropdownTriggers.forEach(trigger => trigger.classList.remove('has-active-child'));

    // --- Set active state for the current section link ---
    const activeDesktopLink = document.getElementById(`${activeId}-link`);
    const activeMobileLink = document.getElementById(`${activeId}-mobile`);

    if (activeDesktopLink) activeDesktopLink.setAttribute('aria-current', 'page');
    if (activeMobileLink) activeMobileLink.setAttribute('aria-current', 'page');

    // --- Handle parent dropdown active states ---
    const activeLinkParentDesktop = activeDesktopLink?.closest('.desktop-dropdown-content');
    const activeLinkParentMobile = activeMobileLink?.closest('.dropdown-container');

    // Desktop Dropdown Parent
    if (activeLinkParentDesktop) {
      const parentDropdown = activeLinkParentDesktop.closest('.desktop-dropdown');
      const parentTrigger = parentDropdown?.querySelector('.dropdown-trigger');
      if (parentTrigger) {
        parentTrigger.classList.add('has-active-child'); // Visual indicator via CSS ::after
      }
    }

    // Mobile Dropdown Parent
    if (activeLinkParentMobile) {
      const parentBtn = activeLinkParentMobile.previousElementSibling;
      if (parentBtn && parentBtn.classList.contains('dropdown-btn')) {
        parentBtn.classList.add('active'); // Visual indicator via CSS class
        // Optionally open the dropdown if navigating directly via hash/history
        // if (!activeLinkParentMobile.classList.contains('open')) {
        //    toggleMobileDropdown(parentBtn);
        // }
      }
    }
  }

  /**
   * Shows the specified section and hides others. Updates URL and history.
   * @param {string} id - The ID of the section to show.
   * @param {boolean} [isPopState=false] - Indicates if the call is from history navigation.
   */
  function showSection(id, isPopState = false) {
    let targetId = id; // Use a mutable variable for potential fallback
    let newSection = document.getElementById(targetId);

    // If the target section doesn't exist, default to 'home'
    if (!newSection) {
        console.warn(`Section with ID "${targetId}" not found. Defaulting to "home".`);
        targetId = 'home'; // Fallback to home ID
        newSection = document.getElementById(targetId); // Try getting home section
        if (!newSection) {
            console.error("Default section 'home' not found either. Cannot switch sections.");
            return; // Exit if home section also doesn't exist
        }
    }

    // Check if the target section is already the active one
    if (targetId === currentSection && newSection.classList.contains('active')) {
        // If not popstate, maybe scroll to top? Otherwise, do nothing.
        if (!isPopState) {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
        return;
    }

    const currentActiveSection = document.querySelector('.section.active');

    // Remove 'active' class from the currently active section
    if (currentActiveSection) {
        currentActiveSection.classList.remove('active');
    }

    // Add 'active' class to the new section
    newSection.classList.add('active');
    currentSection = targetId; // Update the global currentSection variable
    updateNavActiveState(targetId); // Update navigation states based on the actual section shown

    // Close menus/dropdowns
    closeAllDesktopDropdowns();
    if (sidebar?.classList.contains('open')) { // Add null check for sidebar
       closeSidebar();
    }

    // Update URL and History (only if not from back/forward)
    if (!isPopState) {
      const newHash = `#${targetId}`;
      // Only push state if the hash is actually changing to prevent duplicate history entries
      if (window.location.hash !== newHash) {
          try {
              // Use replaceState for the very first load to avoid polluting history
              if (window.history.length <= 2) { // Check if it's near the initial state
                   window.history.replaceState({ section: targetId }, '', newHash);
              } else {
                   window.history.pushState({ section: targetId }, '', newHash);
              }
          } catch (e) {
              console.warn("History API not supported or restricted.");
              window.location.hash = newHash; // Fallback
          }
      }
      // Scroll to the top of the main content area smoothly ONLY if not navigating via history popstate
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    // Note: Browser usually handles scroll restoration for popstate automatically if history.scrollRestoration is 'auto' (default)
  }


  // --- Event Listeners ---

  // Header scroll effect
  let lastScrollY = window.scrollY;
  window.addEventListener('scroll', () => {
    const currentScrollY = window.scrollY;
    if (header) { // Check if header exists
        if (currentScrollY > 50) {
          header.classList.add('scrolled');
        } else {
          header.classList.remove('scrolled');
        }
    }

    // Back to Top Button visibility
    if (backToTopButton) { // Check if button exists
        if (currentScrollY > 300) {
            backToTopButton.classList.add('visible');
        } else {
            backToTopButton.classList.remove('visible');
        }
    }

    lastScrollY = currentScrollY;
  }, { passive: true }); // Improve scroll performance

  // Back/Forward browser navigation
  window.addEventListener('popstate', (event) => {
     let targetSectionId = 'home'; // Default
     if (event.state && event.state.section) {
         targetSectionId = event.state.section;
     } else {
         // Fallback for initial hash or missing state
         const hash = window.location.hash.substring(1);
         if (hash && document.getElementById(hash)) {
             targetSectionId = hash;
         }
     }
     showSection(targetSectionId, true); // Pass true to indicate popstate
  });

  // Back to Top button click
  if (backToTopButton) { // Check if button exists
      backToTopButton.addEventListener('click', () => {
          window.scrollTo({ top: 0, behavior: 'smooth' });
      });
  }

  // --- Initialization ---
  document.addEventListener('DOMContentLoaded', () => {
    // Set current year in footer
    const currentYearSpan = document.getElementById('current-year');
    if (currentYearSpan) {
        currentYearSpan.textContent = new Date().getFullYear();
    }

    // Mobile Dropdown Event Listeners
    const dropdownBtns = document.querySelectorAll(".mobile-nav .dropdown-btn");
    dropdownBtns.forEach(btn => {
      // Ensure controls/labelledby attributes are set for accessibility
      const container = btn.nextElementSibling;
      if (!btn.id) btn.id = `mobile-dd-btn-${Math.random().toString(36).substring(2, 9)}`;
      if (container && container.classList.contains('dropdown-container')) { // Ensure it's the correct element
          if (!container.id) container.id = `mobile-dd-container-${Math.random().toString(36).substring(2, 9)}`;
          btn.setAttribute('aria-controls', container.id);
          container.setAttribute('aria-labelledby', btn.id);
      } else {
          console.warn("Dropdown container not found or is not the next sibling for button:", btn);
      }

      btn.addEventListener("click", function(e) {
        e.stopPropagation(); // Prevent clicks propagating to window listener if sidebar is open
        toggleMobileDropdown(this);
      });
    });

    // Initial Section Load based on Hash or Default to Home
    const initialHash = window.location.hash.substring(1);
    let initialSectionId = 'home';
    // Check if the hash exists and corresponds to a valid section ID
    if (initialHash && document.getElementById(initialHash)) {
        initialSectionId = initialHash;
    } else if (initialHash) {
        // If hash exists but section doesn't, warn and reset hash
        console.warn(`Section for hash "#${initialHash}" not found. Loading home section.`);
        window.location.hash = '#home'; // Reset hash to home
    }

    // Set initial state without pushing to history, mark as popstate to avoid scroll jump
    showSection(initialSectionId, true);
    // Replace initial history entry to include state for back/forward consistency
     try {
        // Ensure the hash matches the initial section shown
        window.history.replaceState({ section: initialSectionId }, '', `#${initialSectionId}`);
     } catch(e) {
         console.warn("History API replaceState not supported or restricted.");
     }


    // Scroll Reveal Animations (Intersection Observer)
    const observerOptions = {
      root: null,
      rootMargin: '0px',
      threshold: 0.1 // Trigger when 10% is visible
    };

    const observerCallback = (entries, observer) => {
      entries.forEach((entry) => { // Removed index as it wasn't used
        if (entry.isIntersecting) {
          entry.target.classList.add('in-view');
          observer.unobserve(entry.target); // Animate only once
        }
      });
    };

    const scrollObserver = new IntersectionObserver(observerCallback, observerOptions);
    const elementsToAnimate = document.querySelectorAll('.hobby-card, .project-card, .service-card, .about-image, .about-content h3, .about-content p, .contact-item, .contact-form'); // Add more selectors as needed
    elementsToAnimate.forEach(el => {
        if (el) { // Check if element exists before observing
            scrollObserver.observe(el);
        }
    });


     // Contact Form Handling (Basic Example)
     const contactForm = document.getElementById('contactForm');
     const formStatus = document.getElementById('form-status');
     if (contactForm && formStatus) {
         contactForm.addEventListener('submit', function(e) {
             e.preventDefault(); // Prevent default browser submission

             // Basic Frontend Validation (enhance as needed)
             let isValid = true;
             const requiredInputs = contactForm.querySelectorAll('[required]');

             requiredInputs.forEach(input => {
                 input.style.borderColor = ''; // Reset border color initially
                 let inputValid = true;
                 const value = input.value.trim();
                 const minLength = input.getAttribute('minlength');

                 if (!value) {
                     inputValid = false;
                 } else if (input.type === 'email' && !/^\S+@\S+\.\S+$/.test(value)) {
                     inputValid = false;
                 } else if (minLength && value.length < parseInt(minLength, 10)) {
                     inputValid = false;
                 }

                 if (!inputValid) {
                     isValid = false;
                     input.style.borderColor = '#f87171'; // Red border for error
                 }
             });

             if (!isValid) {
                 formStatus.textContent = 'Please fill out all required fields correctly.';
                 formStatus.className = 'error'; // Use class for styling
                 // Find the first invalid input and focus it
                 const firstInvalidInput = contactForm.querySelector('[required]:invalid, [style*="border-color: rgb(248, 113, 113)"]');
                 firstInvalidInput?.focus();
                 return; // Stop submission
             }

             // --- Simulation of sending data ---
             formStatus.textContent = 'Sending message...';
             formStatus.className = 'sending'; // Use class for styling
             const submitButton = contactForm.querySelector('.submit-btn');
             if (submitButton) submitButton.disabled = true; // Disable button during sending

             // Simulate network request delay
             setTimeout(() => {
                 // Simulate success
                 formStatus.textContent = 'Message sent successfully! Thank you.';
                 formStatus.className = 'success'; // Use class for styling
                 contactForm.reset(); // Clear the form fields
                 requiredInputs.forEach(input => input.style.borderColor = ''); // Ensure borders are reset
                 if (submitButton) submitButton.disabled = false; // Re-enable button

                 // Clear status message after a few seconds
                 setTimeout(() => {
                     formStatus.textContent = '';
                     formStatus.className = '';
                 }, 6000);

                 /*
                 // --- Simulate Error ---
                 formStatus.textContent = 'An error occurred. Please try again later.';
                 formStatus.className = 'error';
                 if (submitButton) submitButton.disabled = false;
                 */

             }, 1500); // 1.5 second delay simulation
         });

         // Remove error styling when user corrects input
         contactForm.querySelectorAll('[required]').forEach(input => {
             input.addEventListener('input', () => {
                 // Check validity using the browser's built-in checkValidity
                 // Note: checkValidity() itself doesn't trigger UI changes,
                 // but we can use it to decide whether to clear our custom styling.
                 if (input.style.borderColor.includes('248, 113, 113')) { // Check if it had error style
                     if (input.checkValidity()) {
                         input.style.borderColor = ''; // Reset border on valid input
                         // Clear general form error if this was the last invalid field
                         if (!contactForm.querySelector('[required]:invalid')) {
                             formStatus.textContent = '';
                             formStatus.className = '';
                         }
                     }
                 }
             });
         });
     } else {
         console.warn("Contact form or status element not found.");
     }

     // Add lazy loading for images outside the initial viewport
     const lazyImages = document.querySelectorAll('img[loading="lazy"]');
     if ("IntersectionObserver" in window) {
         let lazyImageObserver = new IntersectionObserver((entries, observer) => {
             entries.forEach(entry => {
                 if (entry.isIntersecting) {
                     let lazyImage = entry.target;
                     // Optional: Add fade-in effect
                     lazyImage.style.opacity = 0;
                     lazyImage.style.transition = 'opacity 0.5s ease-in-out';
                     // Use dataset.src if available, otherwise assume src is set for browsers that support native lazy loading but JS is fallback
                     if (lazyImage.dataset.src) {
                         lazyImage.src = lazyImage.dataset.src;
                     }
                     lazyImage.removeAttribute("loading"); // Remove lazy attribute after JS handles it
                     lazyImage.onload = () => lazyImage.style.opacity = 1; // Fade in on load
                     lazyImageObserver.unobserve(lazyImage);
                 }
             });
         }, { rootMargin: "0px 0px 200px 0px" }); // Load images 200px before they enter viewport

         lazyImages.forEach(lazyImage => {
             // If the image already has src (e.g., browser loaded it despite loading=lazy), don't observe
             if (!lazyImage.complete || !lazyImage.src) {
                lazyImageObserver.observe(lazyImage);
             } else {
                // If already loaded (e.g. cached), ensure it's visible
                lazyImage.style.opacity = 1;
             }
         });
     } else {
         // Fallback for browsers without IntersectionObserver (load all images)
         lazyImages.forEach(img => {
             if (img.dataset.src) {
                 img.src = img.dataset.src;
             }
             img.removeAttribute("loading");
         });
     }


  }); // End DOMContentLoaded

</script>

</body>
</html>
